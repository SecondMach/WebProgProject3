body {
    margin: 0;
    background: #1b2e4a; /* brighter navy */
    font-family: 'Poppins';
    overflow-x: hidden;
    color: white;
}

.bg {
    position: fixed;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    z-index: 0;
    filter: brightness(0.8);
}

/* Snow brighter */
.snow {
    position: fixed;
    inset: 0;
    pointer-events: none;
    background: url("../assets/images/snow.gif") repeat;
    opacity: 0.6; /* brighter */
    z-index: 1;
}

/* Title */
.title {
    position: relative;
    z-index: 5;

    text-align: center;
    font-size: 52px;
    font-weight: 800;
    letter-spacing: 1px;

    color: #ffffff;

    text-shadow:
        0 0 8px #ffffff,
        0 0 18px #ffffff,
        0 0 35px gold,
        0 0 60px rgba(255, 215, 0, 0.8);
}

/* Tree */
.tree-container {
    position: relative;
    width: 600px;         /* increased size */
    margin: 20px auto;
    z-index: 10;
}

.tree {
    width: 100%;
    filter: brightness(0.8) drop-shadow(0 0 40px #3aff3a); /* brighter glow */
}

.nav-item {
    position: absolute;
    text-align: center;
    cursor: pointer;
    z-index: 5;
}

.nav-item img {
    width: 90px;
    display: block;
    margin: 0 auto;
    filter: brightness(0.85) drop-shadow(0 0 25px currentColor);
    transition: 0.25s;
}

.nav-item:hover img {
    transform: scale(1.15);
    filter: brightness(0.9) drop-shadow(0 0 40px white);
}

/* Text under lights/star */
.nav-label {
    margin-top: 6px;
    display: block;
    font-size: 16px;
    font-weight: 600;
    color: white;
    text-shadow:
        0 0 8px #000,
        0 0 16px #fff;
    pointer-events: none;
}

/* STAR */
.star-item {
    top: -20px;
    left: 51%;
    transform: translateX(-50%);
}

.star {
    width: 120px !important;
}

/* Using CSS variables for glow color depending on image */
.light1 { top: 150px; left: 320px; color: #ff4d4d; }
.light2 { top: 200px; left: 190px; color: #4dbaff; }
.light3 { top: 400px; left: 170px; color: #c458e2; }
.light4 { top: 350px; left: 325px; color: #f036ce; }

/* Popup */
.popup {
    position: fixed;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%) scale(0.95);
    background: linear-gradient(
        135deg,
        rgba(255,255,255,0.25),
        rgba(255,255,255,0.05)
    );
    backdrop-filter: blur(14px);
    border: 2px solid rgba(255,255,255,0.35);
    padding: 40px 35px;
    border-radius: 20px;
    text-align: center;
    z-index: 20;
    box-shadow:
        0 0 40px rgba(255,255,255,0.2),
        0 0 80px rgba(255,215,0,0.15);
    animation: popupIn 0.25s ease forwards;
}

@keyframes popupIn {
    to {
        transform: translate(-50%, -50%) scale(1);
    }
}

.hidden {
    display: none;
}

.popup h2 {
    margin-bottom: 25px;
    font-size: 28px;
    color: white;
    text-shadow: 0 0 15px gold;
}

/* Puzzle buttons */
.popup button {
    display: block;
    margin: 12px auto;
    width: 190px;
    padding: 14px;
    border-radius: 14px;
    border: none;
    font-size: 18px;
    font-weight: bold;
    cursor: pointer;
    background: linear-gradient(135deg, #e63946, #ff7a7a);
    color: white;
    box-shadow:
        0 0 15px rgba(230,57,70,0.8),
        inset 0 0 8px rgba(255,255,255,0.3);
    transition: 0.2s;
}

.popup button:hover {
    transform: scale(1.08);
    box-shadow:
        0 0 30px gold,
        inset 0 0 12px rgba(255,255,255,0.4);
}

/* Cancel button */
.closeBtn {
    background: linear-gradient(135deg, #888, #bbb) !important;
    box-shadow: 0 0 10px rgba(255,255,255,0.4) !important;
}